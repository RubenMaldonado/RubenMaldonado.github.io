<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"/><meta name="og:site_name" content="Ruben Maldonado"/><link rel="canonical" href="https://RubenMaldonado.github.io/articles/beginners-guide-to-publish"/><meta name="twitter:url" content="https://RubenMaldonado.github.io/articles/beginners-guide-to-publish"/><meta name="og:url" content="https://RubenMaldonado.github.io/articles/beginners-guide-to-publish"/><title>Beginners Guide to Publish | Ruben Maldonado</title><meta name="twitter:title" content="Beginners Guide to Publish | Ruben Maldonado"/><meta name="og:title" content="Beginners Guide to Publish | Ruben Maldonado"/><meta name="description" content="Begginer Guide to Publish"/><meta name="twitter:description" content="Begginer Guide to Publish"/><meta name="og:description" content="Begginer Guide to Publish"/><meta name="twitter:card" content="summary"/><link rel="stylesheet" href="/styles.css" type="text/css"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><link rel="shortcut icon" href="/images/favicon.png" type="image/png"/><link rel="alternate" href="/feed.rss" type="application/rss+xml" title="Subscribe to Ruben Maldonado"/></head><body class="item-page"><header><div class="wrapper"><a class="site-name" href="/">Ruben Maldonado</a><nav><ul><li><a href="/apps">Apps</a></li><li><a class="selected" href="/articles">Articles</a></li></ul></nav></div></header><div class="wrapper"><article><div class="content"><h1>Beginners Guide to Publish</h1><p>I just started my journey into the iOS development world. I heard in a podcast that a really useful way to retain and improve your knowledge is by sharing it.</p><p>So surprise! I decided to be original and start a blog. After reviewing several options like WordPress, Squarespace, and even host it by myself I heard about John Sundell and Publish. The premise is that you can generate your static HTML website/blog using a Swift package. So a blog about learning iOS development and Swift that it created using Swift was the perfect first challenge in my journey.</p><p>At the end of this post, you will find all the resources that I used to learn about it.</p><h2>Pre-Requisites</h2><ul><li><a href="https://www.apple.com/shop/buy-mac/macbook-pro/16-inch">MacBook Pro</a> (This is the model that I use)</li><li><a href="https://support.apple.com/guide/terminal/open-or-quit-terminal-apd5265185d-f365-44cb-8b09-71a064a42125/mac">Terminal</a></li><li><a href="https://github.com/join?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F&source=header-home">Github account</a></li><li><a href="https://developer.apple.com/xcode/">Xcode 12</a></li></ul><h2>Step 1: Install publish cli</h2><p>Let's create a folder where we are going to manage our site, download the publish package, and use the command-line tool to create our first site.</p><pre><code>$ mkdir myPublishWebsite
$ cd myPublishWebsite
$ git clone https://github.<span class="property">com</span>/<span class="type">JohnSundell</span>/<span class="type">Publish</span>.<span class="property">git</span>
$ cd <span class="type">Publish</span>
$ make
</code></pre><p>At this point, you will have the publish console API ready to help you to create your site. The main commands are the following:</p><ul><li>publish new -&gt; Create new project</li><li>publish generate -&gt; Generate the html output</li><li>publish run -&gt; Run your website locally</li><li>publish deploy -&gt; Deploy your website to the internet</li></ul><p>We will use them in the following sections.</p><h2>Step 2: Create your project folder and initialize git</h2><pre><code>$ mkdir publishblog
$ cd publishblog
$ git <span class="keyword">init</span>
$ git checkout -b author
</code></pre><p>The following will create a new folder called publishblog, this folder will contain your publish package and all the content of your blog. Normally in git, your main branch is "master" and you use other branches to do temporary work after merging them back to master. In our case, our git logic will work a little bit differently.</p><ul><li>Your main branch will be the one just created called "author". In this branch, you will maintain all your content and the work that is not ready to be published.</li><li>Once you're ready to publish, we will use the "deploy" command. The deploy command will generate the static content in the "master" then send it to github.com.</li></ul><p>We are going to use <a href="https://pages.github.com/">GitHub pages</a> pages to get free hosting of our site, one of the restrictions of GitHub pages is that it will use the content of the master branch to host the source files.</p><h2>Step 3: Create and run our Publish project</h2><pre><code>$ publish new
$ publish generate
$ publish run
</code></pre><p>Command overview: - "publish new" command will generate a new Publish skeleton project, with the most basic infrastructure. - "publish generate" command will transform your markdown text files and generate the static html content for your site, your output. - "publish run" command will create a local server where you can pre-visualize your content, just open http://localhost:8000 in your web browser.</p><p>The result will be a starter website like this: <img src="/images/20200919_publish_howtosetup_01_localhost.png" alt="localhost"/></p><h2>Step 4: Prepare for deployment to GitHub pages</h2><p>First let's open our package in Xcode using the following command:</p><pre><code>$ <span class="keyword">open</span> <span class="type">Package</span>.<span class="property">swift</span>
</code></pre><p>Once Xcode is open navigate in the left bar and open the file called main.swift <img src="/images/20200919_publish_howtosetup_02_xcode.png" alt="xcode package"/></p><p>Here is how your main.swift file should look like:</p><pre><code><span class="keyword">import</span> Foundation
<span class="keyword">import</span> Publish
<span class="keyword">import</span> Plot

<span class="comment">// This type acts as the configuration for your website.</span>
<span class="keyword">struct</span> Publishblog: <span class="type">Website</span> {
    <span class="keyword">enum</span> SectionID: <span class="type">String</span>, <span class="type">WebsiteSectionID</span> {
        <span class="comment">// Add the sections that you want your website to contain here:</span>
        <span class="keyword">case</span> posts
    }

    <span class="keyword">struct</span> ItemMetadata: <span class="type">WebsiteItemMetadata</span> {
        <span class="comment">// Add any site-specific metadata that you want to use here.</span>
    }

    <span class="comment">// Update these properties to configure your website:</span>
    <span class="keyword">var</span> url = <span class="type">URL</span>(string: <span class="string">"https://publishblog.github.io"</span>)!
    <span class="keyword">var</span> name = <span class="string">"Publishblog"</span>
    <span class="keyword">var</span> description = <span class="string">"A description of Publishblog"</span>
    <span class="keyword">var</span> language: <span class="type">Language</span> { .<span class="dotAccess">english</span> }
    <span class="keyword">var</span> imagePath: <span class="type">Path</span>? { <span class="keyword">nil</span> }
}

<span class="comment">// This will generate your website using the built-in Foundation theme:</span>
<span class="keyword">try</span> <span class="type">Publishblog</span>().<span class="call">publish</span>(withTheme: .<span class="dotAccess">foundation</span>,
                          deployedUsing: .<span class="call">gitHub</span>(<span class="string">"publishblog/publishblog.github.io"</span>, useSSH: <span class="keyword">false</span>))


</code></pre><p>One remark, in order to get success using github pages as your hosting provider your repository MUST be named according the convention "gitaccount/gitaccount.github.io", it will not work if is not spelled correctly. You can find detailed instructions on how to proper configure GitHubs pages <a href="https://guides.github.com/features/pages/">here</a>.</p><h2>Step 5: Deploy to GitHub pages</h2><pre><code>$ git add .
$ git commit -m <span class="string">"Initial commit"</span> 
$ git remote add origin https://github.<span class="property">com</span>/publishblog/publishblog.<span class="property">github</span>.<span class="property">io</span>.<span class="property">git</span>
$ git push origin author
$ publish deploy
</code></pre><p>And if everything is configured correctly, you should be able to open your brand new website with the default link <a href="https://publishblog.github.io/">https://publishblog.github.io/</a>.</p><p>And that's it!</p><h2>Reference Links</h2><p>I didnâ€™t know what was a Swift package when I started, I truly started from scratch, all the following resources were awesome but for some reason not so easy to find.</p><ul><li><a href="https://briancoyner.github.io/articles/2020-02-25-cocoaheads_publish_notes/">8 Tips To Help You Get Started With Publish</a></li><li><a href="https://www.russellgordon.ca/tutorials/creating-a-custom-theme-using-publish/">Creating a custom theme using Publish</a></li><li><a href="https://github.com/JohnSundell/Publish">Publish in Github</a></li></ul><h2>Conclusions</h2><p>Getting all these steps was complicated for me, before trying this I didn't know what were the Swift packages, Github pages, plot, and other fascinating resources that I will describe in future posts. But documenting back all these steps made me feel more comfortable on how to initiate quickly with a brand new static website whenever I need it. Hope it helps.</p><p>Feel free to contact me at ruben@maldonadotena.com or by messages in twitter <a href="https://twitter.com/_rubenmaldonado">@_rubenmaldonado</a></p><p>Don't worry, be <a href="https://rubenmaldonado.github.io/apps/pathience-app/">pathient</a>!</p></div><span>Tagged with: </span><ul class="tag-list"><li><a href="/tags/publish">publish</a></li><li><a href="/tags/howto">howto</a></li></ul></article></div><footer><p>Generated using <a href="https://github.com/johnsundell/publish">Publish</a></p><p><a href="/feed.rss">RSS feed</a></p></footer></body></html>